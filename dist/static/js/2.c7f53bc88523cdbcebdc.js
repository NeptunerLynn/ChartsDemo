webpackJsonp([2],{ABj6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=this;const r=[{title:"姓名",dataIndex:"name",key:"name",scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:(e,t)=>t.name.toString().toLowerCase().includes(e.toLowerCase()),onFilterDropdownVisibleChange:e=>{e&&setTimeout(()=>{a.searchInput.focus()},10)}},{title:"性别",dataIndex:"gender",key:"gender",filters:[{text:"男",value:0},{text:"女",value:1}]},{title:"年龄",dataIndex:"age",key:"age"},{title:"标签",dataIndex:"tags",key:"tags",scopedSlots:{customRender:"tags"}},{title:"地址",dataIndex:"address",key:"address",scopedSlots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:(e,t)=>t.address.toString().toLowerCase().includes(e.toLowerCase())},{title:"操作",dataIndex:"",key:"x",scopedSlots:{customRender:"action"}}];var o={data:()=>({loading:!1,data:[],columns:r,searchText:"",searchInput:null,searchedColumn:""}),methods:{onSearch(e){this.loading=!0,this.getData(e)},async getData(e){const t=await this.$http.get(`/api/v1/getSearchResult?search_text=${e}`);this.data=[...t.data],this.loading=!1},onClick({key:e}){console.log(e)},handleSearch(e,t,n){t(),this.searchText=e[0],this.searchedColumn=n},handleReset(e){e(),this.searchText=""}}},s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-content"},[n("a-input-search",{staticClass:"search-box",attrs:{placeholder:"请输入查询内容","enter-button":""},on:{search:e.onSearch}}),e._v(" "),n("a-table",{attrs:{columns:e.columns,"data-source":e.data,loading:e.loading},scopedSlots:e._u([{key:"filterDropdown",fn:function(t){var a=t.setSelectedKeys,r=t.selectedKeys,o=t.confirm,s=t.clearFilters,i=t.column;return n("div",{staticStyle:{padding:"8px"}},[n("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(t){return e.searchInput=t},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"搜索 "+i.title,value:r[0]},on:{change:function(e){return a(e.target.value?[e.target.value]:[])},pressEnter:function(){return e.handleSearch(r,o,i.dataIndex)}}}),e._v(" "),n("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return e.handleSearch(r,o,i.dataIndex)}}},[e._v("\n                搜索\n            ")]),e._v(" "),n("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return e.handleReset(s)}}},[e._v("\n                清空\n            ")])],1)}},{key:"filterIcon",fn:function(e){return n("a-icon",{style:{color:e?"#108ee9":void 0},attrs:{type:"search"}})}},{key:"tags",fn:function(t){return n("span",{},e._l(t,function(t){return n("a-tag",{key:t,attrs:{color:"loser"===t?"volcano":t.length>5?"geekblue":"green"}},[e._v("\n                "+e._s(t.toUpperCase())+"\n            ")])}),1)}},{key:"gender",fn:function(t){return n("span",{},[e._v(e._s(e.gerder))])}},{key:"action",fn:function(t){return n("span",{},[n("a",[e._v("查看 一 "+e._s(t.name))]),e._v(" "),n("a-divider",{attrs:{type:"vertical"}}),e._v(" "),n("a",[e._v("编辑")]),e._v(" "),n("a-divider",{attrs:{type:"vertical"}}),e._v(" "),n("a-dropdown",{attrs:{trigger:["click"]}},[n("a",{staticClass:"ant-dropdown-link",on:{click:function(e){return e.preventDefault()}}},[e._v("\n                更多操作 "),n("a-icon",{attrs:{type:"down"}})],1),e._v(" "),n("a-menu",{attrs:{slot:"overlay"},on:{click:e.onClick},slot:"overlay"},[n("a-menu-item",{key:"1"},[e._v("\n                        添加标签\n                    ")]),e._v(" "),n("a-menu-item",{key:"2"},[e._v("\n                        复制新增\n                    ")]),e._v(" "),n("a-menu-item",{key:"3"},[e._v("\n                        删除\n                    ")])],1)],1)],1)}},{key:"expandedRowRender",fn:function(t){return n("p",{staticStyle:{margin:"0"}},[e._v("\n            "+e._s(t.description)+"\n        ")])}},{key:"customRender",fn:function(t,a,r,o){return[e.searchText&&e.searchedColumn===o.dataIndex?n("span",[e._l(t.toString().split(new RegExp("(?<="+e.searchText+")|(?="+e.searchText+")","i")),function(t,a){return[t.toLowerCase()===e.searchText.toLowerCase()?n("mark",{key:a,staticClass:"highlight"},[e._v(e._s(t))]):[e._v(e._s(t))]]})],2):[e._v("\n                "+e._s(t)+"\n            ")]]}}])})],1)};s._withStripped=!0;var i={render:s,staticRenderFns:[]},c=i;var l=!1;var d=n("C7Lr")(o,c,!1,function(e){l||n("Aaa6")},null,null);d.options.__file="src/components/Table.vue";t.default=d.exports},Aaa6:function(e,t,n){var a=n("aM+I");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("FIqI")("15a3a2a6",a,!1,{})},"aM+I":function(e,t,n){(e.exports=n("UTlt")(!0)).push([e.i,"\n.table-content{\n    min-height: 600px;\n    background: #fff;\n}\n.search-box{\n    margin-bottom: 20px;\n}\n.highlight {\nbackground-color: rgb(255, 192, 105);\npadding: 0px;\n}\n","",{version:3,sources:["D:/demo/ChartsDemo/src/components/Table.vue"],names:[],mappings:";AACA;IACI,kBAAkB;IAClB,iBAAiB;CACpB;AACD;IACI,oBAAoB;CACvB;AACD;AACA,qCAAqC;AACrC,aAAa;CACZ",file:"Table.vue",sourcesContent:["\n.table-content{\n    min-height: 600px;\n    background: #fff;\n}\n.search-box{\n    margin-bottom: 20px;\n}\n.highlight {\nbackground-color: rgb(255, 192, 105);\npadding: 0px;\n}\n"],sourceRoot:""}])}});